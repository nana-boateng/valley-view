{"ast":null,"code":"import * as i0 from \"@angular/core\";\nconst _c0 = [\"imageContainer\"];\nexport class SlidesComponent {\n  constructor() {\n    this.photosSources = [];\n    this.currentIndex = 0;\n  }\n  ngAfterViewInit() {\n    this.imageContainer.nativeElement.addEventListener('touchstart', this.swipeStart.bind(this));\n    this.imageContainer.nativeElement.addEventListener('touchend', this.swipeEnd.bind(this));\n  }\n  swipeStart(event) {\n    this.swipeCoord = [event.touches[0].clientX, event.touches[0].clientY];\n    this.swipeTime = new Date().getTime();\n  }\n  swipeEnd(event) {\n    const swipeCoord2 = [event.changedTouches[0].clientX, event.changedTouches[0].clientY];\n    const swipeTime2 = new Date().getTime();\n    const timeDiff = swipeTime2 - this.swipeTime;\n    if (timeDiff < 1000) {\n      const xDiff = this.swipeCoord[0] - swipeCoord2[0];\n      const yDiff = this.swipeCoord[1] - swipeCoord2[1];\n      if (Math.abs(xDiff) > Math.abs(yDiff)) {\n        if (xDiff > 0) {\n          this.nextPhoto();\n        } else {\n          this.prevPhoto();\n        }\n      }\n    }\n  }\n  nextPhoto() {\n    if (this.currentIndex !== this.photosSources.length - 1) {\n      this.currentIndex += 1;\n    } else {\n      this.currentIndex = 0;\n    }\n  }\n  prevPhoto() {\n    if (this.currentIndex !== 0) {\n      this.currentIndex -= 1;\n    } else {\n      this.currentIndex = this.photosSources.length - 1;\n    }\n  }\n}\nSlidesComponent.ɵfac = function SlidesComponent_Factory(t) {\n  return new (t || SlidesComponent)();\n};\nSlidesComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: SlidesComponent,\n  selectors: [[\"app-slides\"]],\n  viewQuery: function SlidesComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵviewQuery(_c0, 5);\n    }\n    if (rf & 2) {\n      let _t;\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.imageContainer = _t.first);\n    }\n  },\n  inputs: {\n    photosSources: \"photosSources\"\n  },\n  decls: 2,\n  vars: 4,\n  consts: [[2, \"overflow\", \"hidden\"], [\"alt\", \"Just an alt\", 3, \"src\"]],\n  template: function SlidesComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0);\n      i0.ɵɵelement(1, \"img\", 1);\n      i0.ɵɵelementEnd();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(1);\n      i0.ɵɵstyleMapInterpolate1(\"transform: translateX(-\", ctx.currentIndex * 100, \"%); transition: transform 0.5s ease;\");\n      i0.ɵɵproperty(\"src\", ctx.photosSources[ctx.currentIndex], i0.ɵɵsanitizeUrl);\n    }\n  },\n  styles: [\".slides-container[_ngcontent-%COMP%] {\\n  position: relative;\\n  height: 80vh;\\n  overflow: hidden;\\n  touch-action: pan-y;\\n}\\n\\n.slide-image[_ngcontent-%COMP%] {\\n  position: absolute;\\n  top: 50%;\\n  left: 50%;\\n  transform: translate(-50%, -50%);\\n  height: 100%;\\n}\\n\\n.slide-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%] {\\n  max-height: 100%;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNsaWRlcy5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0Usa0JBQWtCO0VBQ2xCLFlBQVk7RUFDWixnQkFBZ0I7RUFDaEIsbUJBQW1CO0FBQ3JCOztBQUVBO0VBQ0Usa0JBQWtCO0VBQ2xCLFFBQVE7RUFDUixTQUFTO0VBQ1QsZ0NBQWdDO0VBQ2hDLFlBQVk7QUFDZDs7QUFFQTtFQUNFLGdCQUFnQjtBQUNsQiIsImZpbGUiOiJzbGlkZXMuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIi5zbGlkZXMtY29udGFpbmVyIHtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuICBoZWlnaHQ6IDgwdmg7XG4gIG92ZXJmbG93OiBoaWRkZW47XG4gIHRvdWNoLWFjdGlvbjogcGFuLXk7XG59XG5cbi5zbGlkZS1pbWFnZSB7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgdG9wOiA1MCU7XG4gIGxlZnQ6IDUwJTtcbiAgdHJhbnNmb3JtOiB0cmFuc2xhdGUoLTUwJSwgLTUwJSk7XG4gIGhlaWdodDogMTAwJTtcbn1cblxuLnNsaWRlLWltYWdlIGltZyB7XG4gIG1heC1oZWlnaHQ6IDEwMCU7XG59XG5cbiJdfQ== */\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy9waG90b3Mvc2xpZGVzL3NsaWRlcy5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0Usa0JBQWtCO0VBQ2xCLFlBQVk7RUFDWixnQkFBZ0I7RUFDaEIsbUJBQW1CO0FBQ3JCOztBQUVBO0VBQ0Usa0JBQWtCO0VBQ2xCLFFBQVE7RUFDUixTQUFTO0VBQ1QsZ0NBQWdDO0VBQ2hDLFlBQVk7QUFDZDs7QUFFQTtFQUNFLGdCQUFnQjtBQUNsQjs7O0FBR0EsNHhCQUE0eEIiLCJzb3VyY2VzQ29udGVudCI6WyIuc2xpZGVzLWNvbnRhaW5lciB7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgaGVpZ2h0OiA4MHZoO1xuICBvdmVyZmxvdzogaGlkZGVuO1xuICB0b3VjaC1hY3Rpb246IHBhbi15O1xufVxuXG4uc2xpZGUtaW1hZ2Uge1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHRvcDogNTAlO1xuICBsZWZ0OiA1MCU7XG4gIHRyYW5zZm9ybTogdHJhbnNsYXRlKC01MCUsIC01MCUpO1xuICBoZWlnaHQ6IDEwMCU7XG59XG5cbi5zbGlkZS1pbWFnZSBpbWcge1xuICBtYXgtaGVpZ2h0OiAxMDAlO1xufVxuXG4iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n});","map":{"version":3,"mappings":";;AAOA,OAAM,MAAOA,eAAe;EAL5BC;IAOW,kBAAa,GAAa,EAAE;IACrC,iBAAY,GAAW,CAAC;;EAOxBC,eAAe;IACb,IAAI,CAACC,cAAc,CAACC,aAAa,CAACC,gBAAgB,CAAC,YAAY,EAAE,IAAI,CAACC,UAAU,CAACC,IAAI,CAAC,IAAI,CAAC,CAAC;IAC5F,IAAI,CAACJ,cAAc,CAACC,aAAa,CAACC,gBAAgB,CAAC,UAAU,EAAE,IAAI,CAACG,QAAQ,CAACD,IAAI,CAAC,IAAI,CAAC,CAAC;EAC1F;EAEAD,UAAU,CAACG,KAAiB;IAC1B,IAAI,CAACC,UAAU,GAAG,CAACD,KAAK,CAACE,OAAO,CAAC,CAAC,CAAC,CAACC,OAAO,EAAEH,KAAK,CAACE,OAAO,CAAC,CAAC,CAAC,CAACE,OAAO,CAAC;IACtE,IAAI,CAACC,SAAS,GAAG,IAAIC,IAAI,EAAE,CAACC,OAAO,EAAE;EACvC;EAEAR,QAAQ,CAACC,KAAiB;IACxB,MAAMQ,WAAW,GAAG,CAACR,KAAK,CAACS,cAAc,CAAC,CAAC,CAAC,CAACN,OAAO,EAAEH,KAAK,CAACS,cAAc,CAAC,CAAC,CAAC,CAACL,OAAO,CAAC;IACtF,MAAMM,UAAU,GAAG,IAAIJ,IAAI,EAAE,CAACC,OAAO,EAAE;IACvC,MAAMI,QAAQ,GAAGD,UAAU,GAAG,IAAI,CAACL,SAAU;IAC7C,IAAIM,QAAQ,GAAG,IAAI,EAAE;MACnB,MAAMC,KAAK,GAAG,IAAI,CAACX,UAAW,CAAC,CAAC,CAAC,GAAGO,WAAW,CAAC,CAAC,CAAC;MAClD,MAAMK,KAAK,GAAG,IAAI,CAACZ,UAAW,CAAC,CAAC,CAAC,GAAGO,WAAW,CAAC,CAAC,CAAC;MAClD,IAAIM,IAAI,CAACC,GAAG,CAACH,KAAK,CAAC,GAAGE,IAAI,CAACC,GAAG,CAACF,KAAK,CAAC,EAAE;QACrC,IAAID,KAAK,GAAG,CAAC,EAAE;UACb,IAAI,CAACI,SAAS,EAAE;SACjB,MAAM;UACL,IAAI,CAACC,SAAS,EAAE;;;;EAIxB;EAEAD,SAAS;IACP,IAAI,IAAI,CAACE,YAAY,KAAK,IAAI,CAACC,aAAa,CAACC,MAAM,GAAG,CAAC,EAAE;MACvD,IAAI,CAACF,YAAY,IAAI,CAAC;KACvB,MAAM;MACL,IAAI,CAACA,YAAY,GAAG,CAAC;;EAEzB;EAEAD,SAAS;IACP,IAAI,IAAI,CAACC,YAAY,KAAK,CAAC,EAAE;MAC3B,IAAI,CAACA,YAAY,IAAI,CAAC;KACvB,MAAM;MACL,IAAI,CAACA,YAAY,GAAG,IAAI,CAACC,aAAa,CAACC,MAAM,GAAG,CAAC;;EAErD;;AAnDW7B,eAAe;mBAAfA,eAAe;AAAA;AAAfA,eAAe;QAAfA,eAAe;EAAA8B;EAAAC;IAAA;;;;;;;;;;;;;;;;MCP5BC,8BAA+B;MAC7BA,yBAC8F;MAChGA,iBAAM;;;MADFA,eAA2F;MAA3FA,oHAA2F;MADxFA,2EAAmC","names":["SlidesComponent","constructor","ngAfterViewInit","imageContainer","nativeElement","addEventListener","swipeStart","bind","swipeEnd","event","swipeCoord","touches","clientX","clientY","swipeTime","Date","getTime","swipeCoord2","changedTouches","swipeTime2","timeDiff","xDiff","yDiff","Math","abs","nextPhoto","prevPhoto","currentIndex","photosSources","length","selectors","viewQuery","i0"],"sourceRoot":"","sources":["/home/nana/projects/personal/valview/valview-ng/src/app/components/photos/slides/slides.component.ts","/home/nana/projects/personal/valview/valview-ng/src/app/components/photos/slides/slides.component.html"],"sourcesContent":["import { Component, Input, ViewChild, ElementRef } from '@angular/core';\n\n@Component({\n  selector: 'app-slides',\n  templateUrl: './slides.component.html',\n  styleUrls: ['./slides.component.css']\n})\nexport class SlidesComponent {\n\n  @Input() photosSources: string[] = [];\n  currentIndex: number = 0;\n\n  @ViewChild('imageContainer', { static: false }) imageContainer!: ElementRef;\n\n  swipeCoord?: [number, number];\n  swipeTime?: number;\n\n  ngAfterViewInit() {\n    this.imageContainer.nativeElement.addEventListener('touchstart', this.swipeStart.bind(this));\n    this.imageContainer.nativeElement.addEventListener('touchend', this.swipeEnd.bind(this));\n  }\n\n  swipeStart(event: TouchEvent) {\n    this.swipeCoord = [event.touches[0].clientX, event.touches[0].clientY];\n    this.swipeTime = new Date().getTime();\n  }\n\n  swipeEnd(event: TouchEvent) {\n    const swipeCoord2 = [event.changedTouches[0].clientX, event.changedTouches[0].clientY];\n    const swipeTime2 = new Date().getTime();\n    const timeDiff = swipeTime2 - this.swipeTime!;\n    if (timeDiff < 1000) {\n      const xDiff = this.swipeCoord![0] - swipeCoord2[0];\n      const yDiff = this.swipeCoord![1] - swipeCoord2[1];\n      if (Math.abs(xDiff) > Math.abs(yDiff)) {\n        if (xDiff > 0) {\n          this.nextPhoto();\n        } else {\n          this.prevPhoto();\n        }\n      }\n    }\n  }\n\n  nextPhoto() {\n    if (this.currentIndex !== this.photosSources.length - 1) {\n      this.currentIndex += 1;\n    } else {\n      this.currentIndex = 0;\n    }\n  }\n\n  prevPhoto() {\n    if (this.currentIndex !== 0) {\n      this.currentIndex -= 1;\n    } else {\n      this.currentIndex = this.photosSources.length - 1;\n    }\n  }\n\n}\n\n","<div style=\"overflow: hidden;\">\n  <img [src]=\"photosSources[currentIndex]\" alt=\"Just an alt\"\n    style=\"transform: translateX(-{{ currentIndex * 100 }}%); transition: transform 0.5s ease;\">\n</div>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}